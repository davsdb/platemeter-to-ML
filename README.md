# PLATEMETER-TO-ML

This project provides a collection of Python scripts, organized into modules, that process CSV data generated by the EC-10 platemeter model. 
The output is a refined CSV file enriched with Sentinel-2 satellite band values, vegetation indexes, elevation data and season indication, optimized for developing predictive models using Machine Learning techniques.

## Getting Started

These instructions will get you a copy of the project up and running on your local machine for use, development and testing purposes.

### Prerequisites

Before starting, ensure you have:

1. An active account on the [Copernicus Data Space Ecosystem](https://dataspace.copernicus.eu/). You will need to set the following environment variables with your personal credentials:
    - **CLIENT_ID**
    - **CLIENT_SECRET**

   If you don't have an active account, please register to obtain your **CLIENT_ID** and **CLIENT_SECRET**.

   For detailed instructions on obtain your credentials, refer to the official guide: [Authentication - Copernicus Documentation](https://documentation.dataspace.copernicus.eu/APIs/SentinelHub/Overview/Authentication.html).

    To set your personal CLIENT_ID and CLIENT_SECRET (temporary setting), open your terminal and navigate to the project directory:

    ```bash
    cd path/platemeter-to-ML
    ```

    And run the following command:

    ```bash
    export SENTINEL_CLIENT_ID=your_CLIENT_ID
    export SENTINEL_CLIENT_SECRET=your_CLIENT_SECRET
    ```

2. Created a folder named `input_files` inside the project directory. This folder must contain an input CSV file named `input.csv`, which will be used during the data processing steps.

3. The following columns in `input.csv` are mandatory:
    - "FarmName",
    - "ReadingDateTime",
    - "Latitude",
    - "Longitude".

### Installing

To set up the environment, follow these steps:

1. Install **Python version 3.10** (other Python 3 versions may work as well, but 3.10 was used during development and testing).

2. Install the following Python libraries:

    - `requests`
    - `time`
    - `datetime`
    - `io`
    - `os`
    - `oauthlib`
    - `sentinelhub`
    - `rasterio`
    - `pandas`
    - `warnings`

    You can install these dependencies by running the following command:

    ```bash
    pip install requests pandas rasterio sentinelhub oauthlib
    ```

### Running the Code

Once you have set up the environment and installed the necessary libraries, you can run the code using the following steps:

1. Ensure you have your input CSV file named `input.csv` in the `input_files` folder you created earlier. This file will be used for processing.

2. Open your terminal and navigate to the project directory:

    ```bash
    cd path/platemeter-to-ML
    ```

3. Run the main script `main.py`:

    ```bash
    python main.py
    ```

4. The code will automatically create an output folder named `output_files` if it does not already exist. The processed output will be saved in this folder.

5. You can find the output CSV file within the `output_files` directory generated by the script.

For additional options and arguments, refer to the script documentation or comments within the code.

## Built With

* [Python](https://www.python.org/) - The programming language used for the project.

## Authors

* **Davide Del Buono** - *Bioinformatician and Data Analyst* - email: davide.delbuono1997@gmail.com

    [GitHub](https://github.com/davsdb) | [LinkedIn](https://www.linkedin.com/in/davide-del-buono-662a9b22b/)

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Acknowledgments

* A special thanks to **Marco Milanesi** and **Daniele Pietrucci** for their contributions to the project.
* Thanks to the **Copernicus Data Space Ecosystem** and **Open Topo Data API** for providing access to valuable satellite and elevation data, respectively.